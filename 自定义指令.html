<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>自定义指令</title>
		<link rel="shortcut icon" href="img/Logo.ico" />
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
	</head>

	<body>
		<!--<p><input id="demo" @focus="alertMsg"></p>
		<script>
			// 注册一个全局自定义指令　'v-focus'
			Vue.directive('focus', {
				// 当被绑定的元素插入到DOM中时
				inserted: function(el) {
					// 聚焦元素
					el.focus()
				}
			})

			new Vue({
				el: '#demo',
				methods: {
					alertMsg: () => console.log('asdds')
				}
			})
		</script>-->
		<!-- 自定义钩子样例 -->
		<!--<div id="hook-arguments-example" v-demo:foo.a.b="message"></div>
		<script>
			Vue.directive('demo', {
				bind: function(el, binding, vnode) {
					var s = JSON.stringify
					el.innerHTML = 
						'name: ' + s(binding.name) + '<br>' + 
						'value: ' + s(binding.value) + '<br>' + 
						'expression: ' + s(binding.expression) + '<br>' + 
						'argument: ' + s(binding.arg) + '<br>' + 
						'modifiers: ' + s(binding.modifiers) + '<br>' + 
						// Object.keys(obj)：表示传入obj获取obj对象的所有值
						'vnode keys: ' + Object.keys(vnode).join(', ') 
				}
			})
			
			new Vue({
				el: '#hook-arguments-example' ,
				data: {
					message: 'hello！'
				}
			})
		</script>-->
		<!--<div id="color">
			<input v-color-swatch="message">
		</div>
		<script>
			// bind和update触发相同行为的简写函数
			Vue.directive('color-swatch', function(el, binding) {
				el.style.backgroundColor = binding.value
			})
			
			new Vue({
				el: '#color' ,
				data: {
					message: 'red'
				}
			})
		</script>-->
		<!-- 对象字面量 -->
		<div v-demo="{ color: 'white', text: 'hello! ' }"></div>
		<div v-demo="{ color: 'red', text: 'asd' }"></div>
		<script>
			Vue.directive('demo', function(el, binding) {
				console.log(binding.value.color) 	// => white
				console.log(binding.value.text)		// => hello! 
			})
			
			new Vue({
				// 如果写相同标签有多个的话，Vue只会使用第一个
				el: 'div'
			})
		</script>
	</body>

</html>